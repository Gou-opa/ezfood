(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(57)},31:function(e,t,a){},33:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(24),c=a.n(r),s=(a(31),a(3)),l=a(2),o=a(5),u=a(4),d=a(6),h=(a(33),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"404 Not Found"))}}]),t}(n.Component)),m=a(25),p=a.n(m);function b(e,t,a){return p()({method:t,url:"http://chitbi.ddns.net:4004/".concat(e),data:a}).catch(function(e){console.log(e)})}var v=a(61),f=a(58),E=[{name:"Menu",to:"/menu",exact:!0},{name:"Manager",to:"/manager",exact:!0},{name:"Dashboard",to:"/dashboard",exact:!0}],O=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return i.a.createElement(v.a,{path:a,exact:n,children:function(e){e.match;return i.a.createElement("li",null,i.a.createElement(f.a,{to:a},t))}})},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={avatarActive:"dropdown-avatar",lefMenuactive:""},a.onActive=function(){a.setState({avatarActive:"dropdown-avatar"===a.state.avatarActive?"dropdown-avatar active":"dropdown-avatar"})},a.onActiveLeftMenu=function(){a.setState({lefMenuactive:""===a.state.lefMenuactive?" active":""})},a.showMenu=function(e){var t=null;return e.length>0&&(t=e.map(function(e,t){return i.a.createElement(O,{key:t,label:e.name,to:e.to,activeOnlyWhenExact:e.exact})})),t},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.avatarActive,a=e.lefMenuactive;return i.a.createElement("div",null,i.a.createElement("nav",{id:"nav_menu"},i.a.createElement("ul",{className:"nav_list"},i.a.createElement("li",{className:"nav_item",id:"nav_side"},i.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true",onClick:this.onActiveLeftMenu})),i.a.createElement("li",{className:"nav_item",id:"nav_logo"},"EZ FOOD"),i.a.createElement("li",{className:"nav_item",id:"nav_avatar"},i.a.createElement("img",{src:"../images/guest_biopic-holland_1.jpg",alt:"a"}),i.a.createElement("i",{className:"fa fa-sort-desc ","aria-hidden":"true",id:"icon",onClick:this.onActive}),i.a.createElement("ul",{className:t},i.a.createElement("p",{className:"dropdown-title"},"Your Profile"),i.a.createElement("li",{className:"dropdown-content"},"Setting"),i.a.createElement("li",{className:"dropdown-content"},i.a.createElement(f.a,{to:"/",onClick:function(){localStorage.clear()}},"Log out")))))),i.a.createElement("div",{id:"left_menu",className:a},i.a.createElement("ul",{className:"menu_list"},this.showMenu(E))))}}]),t}(n.Component),g=a(11),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setActiveTab=function(e){a.props.onReceiveTabActive(e)},a.state={tabname:a.props.navTab},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.navTab.map(function(t,a){return i.a.createElement(f.a,{to:"/manager",key:a,exact:"true",className:e.props.tabdefault===t.name?"active":"",onClick:function(){return e.setActiveTab(t.name)}},t.display)});return i.a.createElement("div",{className:"tab"},t)}}]),t}(n.Component),y=a(59),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onPickTable=function(e){b("waiter/table/pick","POST",{uid:localStorage.getItem("uid"),tid:e}).then(function(e){console.log(e.data),200===e.status?localStorage.setItem("orderid",e.data._id):alert("tai khoan khong chinh xac !")}),a.setState({isPick:!0,displayPick:"Picked"})},a.state={isPick:!1,displayPick:"Pick"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(!0===this.state.isPick)return i.a.createElement(y.a,{to:"/menu"});var e=this.props.table,t=this.state,a=t.isPick,n=t.displayPick,r="reservations";return!0===a&&(r="reservations picked"),i.a.createElement("div",{className:r},i.a.createElement("div",{className:"ban_content"},i.a.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"}),i.a.createElement("h2",null,"B\xe0n s\u1ed1 ",e.num),i.a.createElement("p",{className:"ban_st"},"B\xe0n ",e.capacity," ng\u01b0\u1eddi"),i.a.createElement("button",{className:"ban_datcho",onClick:this.onPickTable.bind(this,e._id)},n),i.a.createElement("button",{className:"ban_payment"},"Payment")))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).showTables=function(e){var t=null,n=a.props.dishpicked;return e.length>0&&(t=e.map(function(e,t){return i.a.createElement(N,{key:t,table:e,dishpicked:n})})),t},a.state={data:a.props.data},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tabdefault,t=[];return this.props.data.map(function(a,n){return a.level===e&&(t=a.tables),!0}),i.a.createElement("div",{id:e,className:"tabcontent"},this.showTables(t))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tabdefault:1},a.onActiveTab=a.onActiveTab.bind(Object(g.a)(Object(g.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onActiveTab",value:function(e){console.log(e),this.setState({tabdefault:e})}},{key:"render",value:function(){var e=this.props.data.map(function(e,t){return e}),t=this.props.data.map(function(e,t){return{name:e.level,display:e.display}});return i.a.createElement("div",{className:"left_tap"},i.a.createElement(j,{navTab:t,tabdefault:this.state.tabdefault,onReceiveTabActive:this.onActiveTab}),i.a.createElement(w,{tabdefault:this.state.tabdefault,data:e}))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:[],tablePicked:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;b("waiter/table","GET",null).then(function(t){e.setState({data:t.data})})}}]),Object(l.a)(t,[{key:"render",value:function(){console.log(console.log(this.state.data));var e=this.state,t=e.data,a=e.tablePicked;return i.a.createElement("div",null,i.a.createElement(k,null),i.a.createElement("div",{id:"wrap"},i.a.createElement(C,{data:t,tablePicked:a})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onDelete=function(e){a.props.handleDeleteDish(e)},a.printquantity=function(){return a.props.printquantity(),a.state.quantity},a.state={quantity:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props.data),i.a.createElement("div",null,i.a.createElement("ul",{className:"one_dish"},i.a.createElement("li",{className:"name_dish pay-item"},this.props.data.name),i.a.createElement("li",{className:"price_dish pay-item"},this.props.data.price),i.a.createElement("li",{className:"number_dish pay-item"},i.a.createElement("input",{type:"number",defaultValue:this.printquantity,name:"true"})),i.a.createElement("li",{className:"total_one pay-item"}),i.a.createElement("li",{onClick:this.onDelete.bind(this,this.props.data._id),className:"delete_dish pay-item"},i.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).showOrderList=function(e){var t=null;return e.length>0&&(t=e.map(function(e,t){return i.a.createElement(_,{key:t,data:e,handleDeleteDish:a.props.handleDeleteDish,printquantity:a.props.printquantity})})),t},a.sendOrder=function(){a.props.dishpicked.length>0?alert("\u0110\xe3 g\u1eedi \u0111\u01a1n h\xe0ng , H\xe2n h\u1ea1nh ph\u1ee5c v\u1ee5 qu\xfd kh\xe1ch !"):alert("M\u1eddi qu\xfd kh\xe1ch ch\u1ecdn m\xf3n !"),a.props.handleOrderList()},a.countTotalMoney=function(e){var t=0;return e.map(function(e,a){t+=e.price}),t},a.sendPayment=function(){var e=a.countTotalMoney(a.props.dishpicked);b("waiter/pay","POST",{orderid:localStorage.getItem("orderid"),estimate:e}).then(function(e){console.log(e.data),200===e.status?alert("thanh cong"):alert("L\u1ed7i giao d\u1ecbch !")}),a.setState({totalMoney:e})},a.state={totalMoney:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.dishpicked;return i.a.createElement("div",{className:"tab_right"},i.a.createElement("div",{className:"thanh-t"},i.a.createElement("label",{id:"total-money"},"T\u1ed5ng : ",this.state.totalMoney),i.a.createElement("button",{id:"payment",onClick:this.sendOrder},i.a.createElement("i",{className:"fa fa-credit-card-alt","aria-hidden":"true"},"Order")),i.a.createElement("button",{id:"payment",onClick:this.sendPayment},i.a.createElement("i",{className:"fa fa-credit-card-alt","aria-hidden":"true"},"payment"))),i.a.createElement("h2",null,"Ban1 - Tang1"),this.showOrderList(e))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setActiveTab=function(e){a.props.onReceiveTabActive(e)},a.state={tabname:a.props.navTab},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.navTab.map(function(t,a){return i.a.createElement(f.a,{to:"/menu",key:a,exact:"true",className:e.props.tabdefault===t.name?"active":"",onClick:function(){return e.setActiveTab(t.name)}},t.display)});return i.a.createElement("div",{className:"tab"},t)}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){console.log(e),console.log(a.state.dish),e===a.state.dish._id&&a.props.handleDishPicked(a.state.dish)},a.state={dish:a.props.dish},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.dish;return i.a.createElement("div",{className:"order_one_dish"},i.a.createElement("img",{src:e.url,alt:"a",className:"one_dash_img"}),i.a.createElement("div",{className:"about_dish"},i.a.createElement("h2",null,e.name),i.a.createElement("h5",{className:"one_dish_price"},e.price),i.a.createElement("button",{type:"button",onClick:this.handleClick.bind(this,e._id)},i.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}," Order"))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).showDish=function(e){var t=null,n=a.props.dishpicked;return e.length>0&&(t=e.map(function(e,t){return i.a.createElement(S,{key:t,dish:e,dishpicked:n,handleDishPicked:a.props.handleDishPicked})})),t},a.state={data:a.props.data},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tabdefault,t=[];return this.props.data.map(function(a,n){return a.type===e&&(t=a.dishes),!0}),i.a.createElement("div",{id:e,className:"tabcontent"},this.showDish(t))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tabdefault:1},a.onActiveTab=a.onActiveTab.bind(Object(g.a)(Object(g.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onActiveTab",value:function(e){this.setState({tabdefault:e})}},{key:"render",value:function(){var e=this.props.data.map(function(e,t){return e}),t=this.props.data.map(function(e,t){return{name:e.type,display:e.display}}),a=this.props.dishpicked;return i.a.createElement("div",{className:"left_tap"},i.a.createElement(x,{navTab:t,tabdefault:this.state.tabdefault,onReceiveTabActive:this.onActiveTab}),i.a.createElement(D,{tabdefault:this.state.tabdefault,data:e,dishpicked:a,handleDishPicked:this.props.handleDishPicked}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleDishPicked=function(e){var t=a.state.dishpicked;t.push(e),console.log(t),localStorage.setItem("dishes",JSON.stringify(t)),a.setState({datapicked:t})},a.handleDeleteDish=function(e){for(var t=a.state.dishpicked,n=0;n<t.length;n++)t[n].id===e&&t.splice(n,1);a.setState({dishes:t})},a.handleOrderList=function(){var e=a.filterDishes(a.state.dishpicked);b("waiter/order/update","POST",{order_id:localStorage.getItem("orderid"),dishes:e}).then(function(e){console.log(e.data)})},a.state={data:[],dishpicked:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;b("waiter/menu","GET",null).then(function(t){e.setState({data:t.data.menu})})}}]),Object(l.a)(t,[{key:"filterDishes",value:function(e){var t=this.state.dishpicked,a=e.filter(function(e,t,a){return a.indexOf(e)===t}),n=[];return a.map(function(e,a){var i=t.filter(function(t){return t===e}).length;n.push({dish:e,quantity:i})}),n}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dishpicked;return i.a.createElement("div",null,i.a.createElement(k,null),i.a.createElement("div",{id:"wrap"},i.a.createElement(A,{data:t,dishpicked:a,handleDishPicked:this.handleDishPicked.bind(this)}),i.a.createElement(P,{dishpicked:a,handleDeleteDish:this.handleDeleteDish.bind(this),handleOrderList:this.handleOrderList})))}}]),t}(n.Component),L=a(16),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,i="checkbox"===t.type?t.checked:t.value;a.setState(Object(L.a)({},n,i))},a.onLogin=function(e){e.preventDefault();var t=a.state,n=t.txtUsername,i=t.txtPassword;""===i||""===n?alert("Moi ban nhap tai khoan va mat khau !"):b("login","POST",{username:n,password:i}).then(function(e){200===e.status?(localStorage.setItem("uid",e.data.uid),a.setState({isLogin:!0})):299===e.status&&alert("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c !")})},a.state={txtUsername:"",txtPassword:"",isLogin:!1,check:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log(this.state.check);var e=this.state,t=e.txtUsername,a=e.txtPassword;return!0===this.state.isLogin?i.a.createElement(y.a,{to:"/manager"}):i.a.createElement("div",{id:"login_style"},i.a.createElement("form",{className:"box",onSubmit:this.onLogin},i.a.createElement("div",{className:"title"},"\u0110\u0103ng nh\u1eadp"),i.a.createElement("div",{className:"input"},i.a.createElement("input",{type:"text",placeholder:"T\xean t\xe0i kho\u1ea3n",name:"txtUsername",id:"name",value:t,onChange:this.onChange}),i.a.createElement("span",{className:"spin"})),i.a.createElement("div",{className:"input"},i.a.createElement("input",{type:"password",placeholder:"M\u1eadt kh\u1ea9u",name:"txtPassword",id:"pass",value:a,onChange:this.onChange}),i.a.createElement("span",{className:"spin"})),i.a.createElement("div",{className:"button login"},i.a.createElement("button",{type:"submit"},"\u0110\u0103ng nh\u1eadp")),i.a.createElement(f.a,{to:"/register",className:"pass-forgot"},"\u0110\u0103ng k\xfd")))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:"",username:"",password:"",isSignup:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(L.a)({},a,n))}},{key:"onHandleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.name,i=a.username,r=a.password;console.log(this.state),b("login/register","POST",{name:n,username:i,password:r}).then(function(e){t.setState({isSignup:!0})})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.username,n=e.password;return!0===this.state.isSignup?i.a.createElement(y.a,{to:"/login"}):i.a.createElement("div",{id:"register_style"},i.a.createElement("form",{className:"box",onSubmit:this.onHandleSubmit.bind(this)},i.a.createElement("div",{className:"title"},"T\u1ea1o t\xe0i kho\u1ea3n"),i.a.createElement("div",{className:"input"},i.a.createElement("input",{type:"text",placeholder:"H\u1ecd v\xe0 T\xean",name:"name",id:"regname",value:t,onChange:this.onHandleChange.bind(this)}),i.a.createElement("span",{className:"spin"})),i.a.createElement("div",{className:"input"},i.a.createElement("input",{type:"text",placeholder:"T\xean t\xe0i kho\u1ea3n",name:"username",id:"reregpass",value:a,onChange:this.onHandleChange.bind(this)}),i.a.createElement("span",{className:"spin"})),i.a.createElement("div",{className:"input"},i.a.createElement("input",{type:"password",placeholder:"M\u1eadt kh\u1ea9u",name:"password",id:"regpass",value:n,onChange:this.onHandleChange.bind(this)})),i.a.createElement("div",{className:"button login"},i.a.createElement("button",{type:"submit"},"\u0110\u0103ng k\xfd")),i.a.createElement(f.a,{to:"/login",className:"pass-forgot"},"\u0110\u0103ng nh\u1eadp")))}}]),t}(n.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null," Thong ke"))}}]),t}(n.Component),W=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(k,null),i.a.createElement(I,null))}}]),t}(n.Component),B=[{path:"/",exact:!0,main:function(){return i.a.createElement(q,null)}},{path:"/login",exact:!0,main:function(){return i.a.createElement(q,null)}},{path:"/register",exact:!0,main:function(){return i.a.createElement(H,null)}},{path:"/menu",exact:!0,main:function(){return i.a.createElement(M,null)}},{path:"/manager",exact:!0,main:function(){return i.a.createElement(T,null)}},{path:"/dashboard",exact:!1,main:function(){return i.a.createElement(W,null)}},{path:"",exact:!1,main:function(){return i.a.createElement(h,null)}}],R=a(62),U=a(60),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).showPage=function(e){var t=null;return e.length>0&&(t=e.map(function(e,t){return i.a.createElement(v.a,{key:t,path:e.path,exact:e.exact,component:e.main})})),i.a.createElement(R.a,null,t)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(U.a,null,i.a.createElement("div",{className:"App"},this.showPage(B)))}}]),t}(n.Component);Boolean("192.168.1.5"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.71867c85.chunk.js.map